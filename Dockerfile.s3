# Example Dockerfile for Airflow with S3 support
FROM apache/airflow:3.0.2

# Switch to root user to install system dependencies
USER root

# Install any system-level dependencies if needed
# RUN apt-get update && apt-get install -y <packages>

# Switch back to airflow user
USER airflow

# Install S3 protocol support
COPY requirements-s3.txt /requirements-s3.txt
RUN pip install --no-cache-dir -r /requirements-s3.txt

# Copy your DAGs
COPY example_dags/ /opt/airflow/dags/
